{% extends "layout.html" %}


{% block css %}
<link href="{{ url_for('static', filename='css/statistics.css') }}" rel="stylesheet">
{% endblock css %}


{% block content %}
<ul class="nav nav-pills justify-content-center m-t-30" id="achievements_tabs">
    <li class="nav-item">
        <a id="anime-tab" class="nav-link active" data-toggle="tab" href="#anime_tab">ANIME</a>
    </li>
    <li class="nav-item">
        <a id="series-tab" class="nav-link" data-toggle="tab" href="#series_tab">SERIES</a>
    </li>
    <li class="nav-item">
        <a id="movies-tab" class="nav-link" data-toggle="tab" href="#movies_tab">MOVIES</a>
    </li>
</ul>
<hr class="m-b-20">
<div class="tab-content">
    <div id="anime_tab" class="tab-pane fade show active">
        <div class="row">
            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Count</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart"></canvas>
            </div>

            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Time spent</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart2"></canvas>
            </div>

            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Episodes count</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart3"></canvas>
            </div>
        </div>
    </div>
    <div id="series_tab" class="tab-pane fade">
        <div class="row">
            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Count</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart"></canvas>
            </div>

            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Time spent</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart2"></canvas>
            </div>

            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Episodes count</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart3"></canvas>
            </div>
        </div>
    </div>
    <div id="movies_tab" class="tab-pane fade">
        <div class="row">
            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Count</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart"></canvas>
            </div>

            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Time spent</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart2"></canvas>
            </div>

            <div class="col-6 graphs">
                <h2 class="font-weight-light text-center pt-5 mb-0 category-title">Ratings vs Episodes count</h2>
                <hr class="mt-2 pb-3 mb-0">
                <canvas id="myChart3"></canvas>
            </div>
        </div>
    </div>
</div>
{% endblock content %}


{% block script %}
<script>
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: {{ x_abs|safe }},
        datasets: [{
            label: 'Series watched',
            data: {{ y_abs }},
            backgroundColor: [
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)'
            ],
            borderColor: [
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)'
            ],
            borderWidth: 2
        }]
    },
    options: {
        legend: {
            labels: {
                fontColor: "#CCC",
            }
        },
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    fontColor: "#CCC"
                },
                gridLines: {
                    display: true,
					drawBorder: true,
                    color: "rgba(255, 255, 255, 0.2)"
                }
            }],
            xAxes: [{
                ticks: {
                    fontColor: "#CCC",
                },
                gridLines: {
                    display: true,
					drawBorder: true,
                    color: "rgba(255, 255, 255, 0.2)",
                }
            }],
        }
    }
});
</script>
<script>
var ctx = document.getElementById('myChart2').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: {{ x_abs|safe }},
        datasets: [{
            label: 'Time watched',
            data: {{ y_abs_2 }},
            backgroundColor: [
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)'
            ],
            borderColor: [
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)'
            ],
            borderWidth: 2
        }]
    },
    options: {
        legend: {
            labels: {
                fontColor: "#CCC",
            }
        },
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    fontColor: "#CCC"
                },
                gridLines: {
                    display: true,
					drawBorder: true,
                    color: "rgba(255, 255, 255, 0.2)"
                }
            }],
            xAxes: [{
                ticks: {
                    fontColor: "#CCC",
                },
                gridLines: {
                    display: true,
					drawBorder: true,
                    color: "rgba(255, 255, 255, 0.2)",
                }
            }],
        }
    }
});
</script>
<script>
var ctx = document.getElementById('myChart3').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: {{ x_abs|safe }},
        datasets: [{
            label: 'Episodes watched',
            data: {{ y_abs_3 }},
            backgroundColor: [
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)',
                'rgba(185, 75, 100, 0.7)'
            ],
            borderColor: [
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)',
                'rgba(23, 23, 23, 0.8)'
            ],
            borderWidth: 2
        }]
    },
    options: {
        legend: {
            labels: {
                fontColor: "#CCC",
            }
        },
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    fontColor: "#CCC"
                },
                gridLines: {
                    display: true,
					drawBorder: true,
                    color: "rgba(255, 255, 255, 0.2)"
                }
            }],
            xAxes: [{
                ticks: {
                    fontColor: "#CCC",
                },
                gridLines: {
                    display: true,
					drawBorder: true,
                    color: "rgba(255, 255, 255, 0.2)",
                }
            }],
        }
    }
});
</script>
{% endblock script %}