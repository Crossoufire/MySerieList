{% extends "header_account.html" %}


{% block data %}
    <div class="account-wrapper">
        {% if user_data['id'] != current_user.get_id() %}
            <div class="follow-btn-mobile d-flex">
                {% if user_data["isfollowing"] %}
                    <button class="btn btn-sm btn-dark follow-btn" value="1"
                            onclick="follow_status('{{ user_data['id'] }}')">
                        Unfollow
                    </button>
                {% else %}
                    <button class="btn btn-sm btn-primary follow-btn" value="0"
                            onclick="follow_status('{{ user_data['id'] }}')">Follow
                    </button>
                {% endif %}
                <img class="loading-follow m-t-11" style="display: none;" height="20" width="20"
                     src="/static/img/loading.webp" alt=""/>
            </div>
        {% endif %}
        <div class="row m-t-15">
            <div class="col-xl-3 col-lg col-md-12">
                <ul class="p-l-0">
                    <li class="m-b-20">
                        <h4><i class="fas fa-angle-double-up"></i>&nbsp&nbsp Lists Levels</h4>
                        <hr>
                        <div class="d-flex">
                            <div class='account-bar-wrapper'>
                                <div class='account-bar'>
                                    <img class="float-left m-r-10 m-t-4" height='40' width='40' data-toggle="tooltip"
                                         title="{{ media_data['series']['media_levels']['grade_title'] }}"
                                         src="{{ media_data['series']['media_levels']['grade_id'] }}.png"/>
                                    <span class='account-bar-name'>Series</span>
                                    <div id="series_level" class='account-bar-level'>
                                        Level {{ '%02d' | format(media_data['series']['media_levels']['level']) }}
                                    </div>
                                    <div class='xp-bar' data-toggle="tooltip"
                                         title="{{ media_data['series']['media_levels']['level_percent'] }}%">
                                        <div id='xp-bar-fill-series'
                                             data-percentage="{{ media_data['series']['media_levels']
                                             ['level_percent'] }}">
                                            <div class='xp-increase-fx'>
                                                <div class='xp-increase-fx-flicker'>
                                                    <div class='xp-increase-glow1'></div>
                                                    <div class='xp-increase-glow2'></div>
                                                    <div class='xp-increase-glow3'></div>
                                                </div>
                                                <div class='xp-increase-glow2'></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='account-bar-next-level'>&nbsp{{ '%02d' | format(media_data['series']
                                    ['media_levels']['level'] | int + 1) }}</div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class='account-bar-wrapper'>
                                <div class='account-bar'>
                                    <img class="float-left m-r-10 m-t-4" height='40' width='40' data-toggle="tooltip"
                                         title="{{ media_data['anime']['media_levels']['grade_title'] }}"
                                         src="{{ media_data['anime']['media_levels']['grade_id'] }}.png"/>
                                    <div class='account-bar-name'>Anime</div>
                                    <div id="anime_level" class='account-bar-level'>
                                        Level {{ '%02d' | format(media_data['anime']['media_levels']['level']) }}</div>
                                    <div class='xp-bar' data-toggle="tooltip"
                                         title="{{ media_data['anime']['media_levels']['level_percent'] }}%">
                                        <div id='xp-bar-fill-anime'
                                             data-percentage="{{ media_data['anime']['media_levels']
                                             ['level_percent'] }}">
                                            <div class='xp-increase-fx'>
                                                <div class='xp-increase-fx-flicker'>
                                                    <div class='xp-increase-glow1'></div>
                                                    <div class='xp-increase-glow2'></div>
                                                    <div class='xp-increase-glow3'></div>
                                                </div>
                                                <div class='xp-increase-glow2'></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='account-bar-next-level'>&nbsp{{ '%02d' |
                                    format(media_data['anime']['media_levels']['level'] | int + 1) }}</div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class='account-bar-wrapper'>
                                <div class='account-bar'>
                                    <img class="float-left m-r-10 m-t-4" height='40' width='40' data-toggle="tooltip"
                                         title="{{ media_data['movies']['media_levels']['grade_title'] }}"
                                         src="{{ media_data['movies']['media_levels']['grade_id'] }}.png"/>
                                    <span class='account-bar-name'>Movies</span>
                                    <div id="movies_level" class='account-bar-level'>Level {{ '%02d' |
                                    format(media_data['movies']['media_levels']['level']) }}</div>
                                    <div class='xp-bar' data-toggle="tooltip"
                                         title="{{ media_data['movies']['media_levels']['level_percent'] }}%">
                                        <div id='xp-bar-fill-movies'
                                             data-percentage="{{ media_data['movies']['media_levels']
                                             ['level_percent'] }}">
                                            <div class='xp-increase-fx'>
                                                <div class='xp-increase-fx-flicker'>
                                                    <div class='xp-increase-glow1'></div>
                                                    <div class='xp-increase-glow2'></div>
                                                    <div class='xp-increase-glow3'></div>
                                                </div>
                                                <div class='xp-increase-glow2'></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='account-bar-next-level'>&nbsp{{ '%02d' |
                                    format(media_data['movies']['media_levels']['level'] | int + 1) }}</div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="m-b-20">
                        <h4>
                            <i class="fas fa-highlighter text-light"></i>
                            &nbsp;&nbsp;Updates
                            <a class='fs-15 m-t-10 m-r-2' href="{{ url_for('users.all_history',
                            user_name=user_data['username']) }}" style='float: right; color: grey;'>
                                <u><i>All history</i></u>
                            </a>
                        </h4>
                        <hr class='m-b-8'>
                        {% for update in user_data['media_update'] %}
                            {% if update['category'] == 'series' %}
                                <div class="update-box m-b-5" style="border-bottom: solid 1px #216e7d;">
                                <div style="font-size: 12pt;">
                                <i class="fas fa-tv text-series m-r-10" data-toggle="tooltip" title="Series"></i>
                                <a class="text-light" href="/media_sheet/Series/{{ update['media_id'] }}">
                                    {{ update['media_name'] }}
                                </a>
                            {% elif update['category'] == 'anime' %}
                                <div class="update-box m-b-5" style="border-bottom: solid 1px #945141;">
                                <div style="font-size: 12pt;">
                                <i class="fas fa-torii-gate text-anime m-r-14" data-toggle="tooltip" title="Anime"></i>
                                <a class="text-light" href="/media_sheet/Anime/{{ update['media_id'] }}">
                                    {{ update['media_name'] }}
                                </a>
                            {% elif update['category'] == 'movie' %}
                                <div class="update-box m-b-5" style="border-bottom: solid 1px #8c7821;">
                                <div style="font-size: 12pt;">
                                <i class="fas fa-film text-movies m-r-12" data-toggle="tooltip" title="Movie"></i>
                                <a class="text-light" href="/media_sheet/Movies/{{ update['media_id'] }}">
                                    {{ update['media_name'] }}
                                </a>
                            {% endif %}
                        </div>

                        <div class="m-l-35" style="font-size: 11pt;">
                            {% if update['update']|length == 2 %}
                                {{ update['update'][0] }} <i class="fas fa-long-arrow-alt-right m-l-4 m-r-4"></i>
                                {{ update['update'][1] }}
                            {% else %}
                                {{ update['update'][0] }}
                            {% endif %}
                        </div>

                        <span class="m-l-35" style="color: #b3b3b3; font-size: 10pt;">
              <script type="text/javascript">
                var tz = new Intl.DateTimeFormat().resolvedOptions().timeZone;
                var localdate = new Date("{{update['date']}}").toLocaleString("en-GB", {timeZone: tz});
                var d = new Date("{{ update['date'] }}")
                var month = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct",
                    "Nov", "Dec"];
                var date_month = month[d.getMonth()];
                var date_day = localdate.slice(0, 2);
                var date_time = localdate.slice(11, 17)
                document.write(date_day + " " + date_month + " at " + date_time)
              </script>
          </span>
                        </div>
                        {% endfor %}
                    </li>
                    <li class="m-b-20">
                        <h4><i class="fas fa-sm fa-info-circle"></i>&nbsp&nbspInformation</h4>
                        <hr>
                        <ul class="text-left" style="list-style-type: disc; font-size: 13pt;">
                            <li class="m-b-10">
                                <div class="row">
                                    <div class="col-9">Profile views:</div>
                                    <div class="col-2">{{ user_data['view_count']["profile"] }}</div>
                                </div>
                            </li>
                            <li class="m-b-10">
                                <div class="row">
                                    <div class="col-9">SeriesList views:</div>
                                    <div class="col-2">{{ user_data['view_count']["series"] }}</div>
                                </div>
                            </li>
                            <li class="m-b-10">
                                <div class="row">
                                    <div class="col-9">AnimeList views:</div>
                                    <div class="col-2">{{ user_data['view_count']["anime"] }}</div>
                                </div>
                            </li>
                            <li class="m-b-10">
                                <div class="row">
                                    <div class="col-9">MoviesList views:</div>
                                    <div class="col-2">{{ user_data['view_count']["movies"] }}</div>
                                </div>
                            </li>
                            {% if user_data['id'] == current_user.get_id() %}
                                <li class="m-b-10">
                                    <a class="text-light" href="{{ url_for('users.level_grade_data') }}"
                                       target="_blank">
                                        <u>Grades and levels data</u>
                                    </a>
                                </li>
                                <li class="m-b-10">
                                    <a class="text-light" href="{{ url_for('users.knowledge_frame_data') }}"
                                       target="_blank">
                                        <u>Knowledge frame data</u>
                                    </a>
                                </li>
                                <li class="m-b-10">
                                    <a type="button" class="text-light" data-toggle="modal" data-target="#newFeatures">
                                        <u>New Features</u>
                                    </a>
                                    <div id="newFeatures" class="modal" tabindex="-1" role="dialog">
                                        <div class="modal-dialog" role="document" style="border: 2px lightsalmon solid;">
                                            <div class="modal-content" style="background-color: #0a262d;">
                                                <div class="modal-header">
                                                    <h4 class="modal-title">
                                                        <b>New Features | <i>Jul 14 2020</i></b>
                                                    </h4>
                                                    <button type="button" class="close text-light" data-dismiss="modal"
                                                    aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="p-4">
                                                        <ul class="text-justify p-l-10" style="list-style-type: square;">
                                                            <li class="m-b-30">
                                                                <h5><b>Added comment and score</b></h5>
                                                                <p>You can add comment and add a score (/10, with half point) to Series/Anime and
                                                                    Movies from your list or from the left in the media's sheet (The media need to
                                                                    be in your list).
                                                                </p>
                                                            </li>
                                                            <li class="m-b-30">
                                                                <h5><b>Added RE-watch</b></h5>
                                                                <p>You can now add a rewatch value (up to 10x times) on all the media which are in the
                                                                    completed (completed animation) state. It do not take into account the initial
                                                                    completion.
                                                                </p>
                                                            </li>
                                                            <li>
                                                                <h5><b>Changed medialist inteface</b></h5>
                                                                <p>The medialist interface for the favorite, score, comment
                                                                    and rewatch has changed.
                                                                </p>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            {% endif %}
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="vertical_line"></div>
            <div class="col-xl col-lg-5 col-md-12">
                <ul class="p-l-0">
                    <h4>
                        <i class="fas fa-chart-pie"></i>
                        &nbsp;&nbsp;Statistics
                        <a class='fs-15 m-t-10 m-r-2' href="{{ url_for('users.more_stats',
                        user_name=user_data['username']) }}" style='float: right; color: grey;'>
                            <u><i>More stats</i></u>
                        </a>
                    </h4>
                    <hr>
                    <li class="m-b-20">
                        <div class="row">
                            <div class="col-7 media-container">
                                <canvas id="media-time"></canvas>
                                <span id="time-spent-pie" values="{{ media_data['series']['time_spent_hour'] }}
                                      , {{ media_data['anime']['time_spent_hour'] }}
                                      , {{ media_data['movies']['time_spent_hour'] }}"></span>
                            </div>
                            <div class="col-5 text-center m-t-10">
                                <div>
                                    <div class="m-b-10">
                                        <b class="mobile-time">Total media time</b>
                                        <div>&nbsp;&nbsp;{{ media_data['series']['time_spent_hour']+
                                        media_data['anime']['time_spent_hour']+
                                        media_data['movies']['time_spent_hour'] }} h
                                        </div>
                                    </div>
                                    <div class="m-b-10">
                                        <b class="mobile-time">Total media time</b>
                                        <div>&nbsp;&nbsp;{{ ((media_data['series']['time_spent_hour'] +
                                        media_data['anime']['time_spent_hour'] +
                                        media_data['movies']['time_spent_hour'])/24)|round(2) }} days
                                        </div>
                                    </div>
                                    <div>
                                        <b class="mobile-time">Total episodes</b>
                                        <div>&nbsp;&nbsp;{{ media_data['series']['media_total_eps']
                                         + media_data['anime']['media_total_eps'] }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <hr>
                    <li class="m-b-20">
                        <div class="stats-size">
                            <h5 class="text-center mb-2">
                                <a class="text-light" href="{{ url_for('main.mymedialist', media_list='serieslist',
                                user_name=user_data['username']) }}">
                                    <b>Series </b><i class="fas fa-xs fa-external-link-square-alt"></i>
                                </a>
                            </h5>
                            <div id="SERIES" class="m-b-8">
                                <div class="m-b-5">
                                    <span class="stat-text"><b>Days:</b>
                                        {{ media_data['series']['time_spent_day'] }}
                                    </span>
                                    <span class="stat-text float-right"><b>Hours:</b>
                                        {{ media_data['series']['time_spent_hour'] }}
                                    </span>
                                </div>
                                <figure class="d-flex">
                                    {% if media_data['series']['media_count']['nodata'] %}
                                        <span class="block-no-data" data-toggle="tooltip" title="No data">
                                            <span id="100%" class="value"></span>
                                        </span>
                                    {% else %}
                                        <span class="block" data-toggle="tooltip" title="Watching">
                                            <span id="{{ media_data['series']['media_count']['Watching']['percent'] }}%"
                                                  class="value">
                                            </span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Completed">
                                            <span id="{{ media_data['series']['media_count']['Completed']
                                            ['percent'] }}%"
                                                  class="value">
                                            </span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="On Hold">
                                            <span id="{{ media_data['series']['media_count']['On Hold']['percent'] }}%"
                                                  class="value">
                                            </span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Random">
                                            <span id="{{ media_data['series']['media_count']['Random']['percent'] }}%"
                                                  class="value">
                                            </span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Dropped">
                                            <span id="{{ media_data['series']['media_count']['Dropped']['percent'] }}%"
                                                  class="value">
                                            </span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Plan to Watch">
                                            <span id="{{ media_data['series']['media_count']['Plan to Watch']
                                            ['percent'] }}%" class="value">
                                            </span>
                                        </span>
                                    {% endif %}
                                </figure>
                                <div class="m-t-10">
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Watching:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['series']['media_count']['Watching']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Dropped:</span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text">{{ media_data['series']['media_count']['Dropped']
                                            ['count'] }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Completed:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['series']['media_count']['Completed']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Plan to Watch:</span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text">{{ media_data['series']['media_count']
                                            ['Plan to Watch']['count'] }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">On Hold:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['series']['media_count']['On Hold']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text" data-toggle="tooltip" title="- plan to watch">
                                                Total Series:
                                            </span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text" data-toggle="tooltip" title="- plan to watch">
                                                {{ media_data['series']['media_count']['total'] }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Random:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['series']['media_count']['Random']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Episodes:</span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text">
                                                {{ media_data['series']['media_total_eps'] }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div><b>Favorites ({{ favorites[0]|length }}):</b></div>
                            <div class="row m-b-16">
                                <div class="col">
                                    {% for favorite in favorites[0] %}
                                        {% if loop.index < 11 %}
                                            <a href="/media_sheet/Series/{{ favorite[0].id }}">
                                                <img class="favorite-img" title="{{ favorite[0].name }}"
                                                     data-toggle="tooltip"
                                                     src="/static/covers/series_covers/{{ favorite[0].image_cover }}"/>
                                            </a>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="stats-size">
                            <h5 class="text-center mb-2">
                                <a class="text-light" href="{{ url_for('main.mymedialist', media_list='animelist',
                                user_name=user_data['username']) }}">
                                    <b>Anime </b><i class="fas fa-xs fa-external-link-square-alt"></i>
                                </a>
                            </h5>
                            <div id="ANIME" class="m-b-8">
                                <div class="m-b-5">
                                    <span class="stat-text"><b>Days:</b>
                                        {{ media_data['anime']['time_spent_day'] }}
                                    </span>
                                    <span class="stat-text float-right"><b>Hours:</b> {{ media_data['anime']
                                    ['time_spent_hour'] }}</span>
                                </div>
                                <figure class="d-flex">
                                    {% if media_data['anime']['media_count']['nodata'] %}
                                        <span class="block-no-data" data-toggle="tooltip" title="No data">
                                            <span id="100%" class="value"></span>
                                        </span>
                                    {% else %}
                                        <span class="block" data-toggle="tooltip" title="Watching">
                                            <span id="{{ media_data['anime']['media_count']['Watching']['percent'] }}%"
                                                  class="value"></span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Completed">
                                            <span id="{{ media_data['anime']['media_count']['Completed']
                                            ['percent'] }}%" class="value"></span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="On Hold">
                                            <span id="{{ media_data['anime']['media_count']['On Hold']['percent'] }}%"
                                                  class="value"></span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Random">
                                            <span id="{{ media_data['anime']['media_count']['Random']['percent'] }}%"
                                                  class="value"></span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Dropped">
                                            <span id="{{ media_data['anime']['media_count']['Dropped']['percent'] }}%"
                                                  class="value"></span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Plan to Watch">
                                            <span id="{{ media_data['anime']['media_count']['Plan to Watch']
                                            ['percent'] }}%" class="value"></span>
                                        </span>
                                    {% endif %}
                                </figure>
                                <div class="m-t-10">
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Watching:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['anime']['media_count']['Watching']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Dropped:</span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text">{{ media_data['anime']['media_count']['Dropped']
                                            ['count'] }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Completed:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['anime']['media_count']['Completed']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Plan to Watch:</span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text">{{ media_data['anime']['media_count']
                                            ['Plan to Watch']['count'] }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">On Hold:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['anime']['media_count']['On Hold']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text" data-toggle="tooltip" title="Without plan to watch">
                                                Total Anime:
                                            </span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text" data-toggle="tooltip" title="Without plan to watch">
                                                {{ media_data['anime']['media_count']['total'] }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Random:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['anime']['media_count']['Random']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Episodes:</span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text">{{ media_data['anime']['media_total_eps'] }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div><b>Favorites ({{ favorites[1]|length }}):</b></div>
                            <div class="row m-b-16">
                                <div class="col">
                                    {% for favorite in favorites[1] %}
                                        {% if loop.index < 11 %}
                                            <a href="/media_sheet/Anime/{{ favorite[0].id }}">
                                                <img class="favorite-img" data-toggle="tooltip"
                                                     title="{{ favorite[0].name }}"
                                                     src="/static/covers/anime_covers/{{ favorite[0].image_cover }}"/>
                                            </a>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="stats-size m-b-50">
                            <h5 class="text-center mb-2">
                                <a class="text-light" href="{{ url_for('main.mymedialist', media_list='movieslist',
                                user_name=user_data['username']) }}">
                                    <b>Movies </b><i class="fas fa-xs fa-external-link-square-alt"></i>
                                </a>
                            </h5>
                            <div id="MOVIES" class="m-b-8">
                                <div class="m-b-16">
                                    <span class="stat-text"><b>Days:</b>
                                        {{ media_data['movies']['time_spent_day'] }}
                                    </span>
                                    <span class="stat-text float-right"><b>Hours:</b> {{ media_data['movies']
                                    ['time_spent_hour'] }}</span>
                                </div>
                                <figure class="d-flex">
                                    {% if media_data['movies']['media_count']['nodata'] %}
                                        <span class="block-no-data" data-toggle="tooltip" title="No data">
                                            <span id="100%" class="value"></span>
                                        </span>
                                    {% else %}
                                        <span class="block" data-toggle="tooltip" title="Completed">
                                            <span id="{{ media_data['movies']['media_count']['Completed']
                                            ['percent'] }}%" class="value"></span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Completed Animation">
                                            <span id="{{ media_data['movies']['media_count']['Completed Animation']
                                            ['percent'] }}%" class="value"></span>
                                        </span>
                                        <span class="block" data-toggle="tooltip" title="Plan to Watch">
                                            <span id="{{ media_data['movies']['media_count']['Plan to Watch']
                                            ['percent'] }}%" class="value"></span>
                                        </span>
                                    {% endif %}
                                </figure>
                                <div class="m-t-10">
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Completed:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['movies']['media_count']['Completed']
                                            ['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Plan to Watch:</span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text">{{ media_data['movies']['media_count']
                                            ['Plan to Watch']['count'] }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col mini p-r-0">
                                            <span class="stat-text">Completed Anime:</span>
                                        </div>
                                        <div class="col p-0 position">
                                            <span class="stat-text">{{ media_data['movies']['media_count']
                                            ['Completed Animation']['count'] }}</span>
                                        </div>
                                        <div class="col mini p-r-0">
                                            <span class="stat-text" data-toggle="tooltip" title="Without plan to watch">
                                                Total movies:
                                            </span>
                                        </div>
                                        <div class="col p-l-0 position">
                                            <span class="stat-text" data-toggle="tooltip" title="Without plan to watch">
                                                {{ media_data['movies']['media_count']['total'] }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div><b>Favorites ({{ favorites[2]|length }}):</b></div>
                            <div class="row m-b-16">
                                <div class="col">
                                    {% for favorite in favorites[2] %}
                                        {% if loop.index < 11 %}
                                            <a href="/media_sheet/Movies/{{ favorite[0].id }}">
                                                <img class="favorite-img" data-toggle="tooltip"
                                                     title="{{ favorite[0].name }}"
                                                     src="/static/covers/movies_covers/{{ favorite[0].image_cover }}"/>
                                            </a>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="vertical_line"></div>
            <div class="col-xl-3 col-lg col-md-12">
                <ul class="p-l-0 p-r-0">
                    <li class="m-b-20">
                        <h4>
                            <i class="fas fa-user-check"></i>&nbsp;&nbsp; Follows
                            <a class='fs-15 m-t-10 m-r-2' href="{{ url_for('users.all_follows',
                            user_name=user_data['username']) }}" style='float: right; color: grey;'>
                                <u><i>All ({{ follows_list|length }})</i></u>
                            </a>
                        </h4>
                        <hr>
                        {% if user_data['id'] == current_user.get_id() %}
                            <form method="POST" action="" enctype="multipart/form-data">
                                {{ follow_form.hidden_tag() }}
                                <div class="d-flex m-l-10 m-b-10" style="margin-top: -10px;">
                                    {{ follow_form.follow_to_add(style="max-width: 120px;", class='form-control',
                                placeholder='Username') }}
                                    {{ follow_form.submit_follow(class="btn btn-sm btn-dark m-t-4 m-l-15 p-2") }}
                                </div>
                            </form>
                        {% endif %}
                        <div class='row no-gutters text-center' style="margin-bottom: -15px;">
                            {% if follows_list %}
                                {% if follows_list|length <= 10 %}
                                    {% for follow in follows_list %}
                                        <div class="col-3 m-b-15">
                                            <a href="{{ follow.username }}">
                                                <img class="follow-img" data-toggle="tooltip"
                                                     title="{{ follow.username }}"
                                                     src="/static/profile_pics/{{ follow.image_file }}">
                                            </a>
                                        </div>
                                    {% endfor %}
                                {% elif 10 < follows_list|length <= 15 %}
                                    {% for follow in follows_list %}
                                        <div class="col-3 m-b-15">
                                            <a href="{{ follow.username }}">
                                                <img width='50' height='50' data-toggle="tooltip"
                                                     title="{{ follow.username }}"
                                                     src="/static/profile_pics/{{ follow.image_file }}">
                                            </a>
                                        </div>
                                    {% endfor %}
                                {% else %}
                                    {% for follow in follows_list[:15] %}
                                        <div class="col-3 m-b-15">
                                            <a href="{{ follow.username }}">
                                                <img width='50' height='50' data-toggle="tooltip"
                                                     title="{{ follow.username }}"
                                                     src="/static/profile_pics/{{ follow.image_file }}">
                                            </a>
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            {% else %}
                                <div class="m-b-10" style="color: grey;"><i>No follows to display.</i></div>
                            {% endif %}
                        </div>
                    </li>
                    <li class="m-b-20">
                        <div>
                            <h4>
                                <i class="fas fa-bell text-light"></i>
                                &nbsp;&nbsp;Follows' Updates
                            </h4>
                        </div>
                        <hr class='m-b-8'>
                        {% if follows_update_list %}
                            {% for update in follows_update_list %}
                                {% if update['category'] == 'series' %}
                                    <div class="update-box m-b-5" style="border-bottom: solid 1px #216e7d;">
                                    <div style="font-size: 12pt;">
                                    <i style="color: #216e7d;" class="fas fa-tv m-r-10" data-toggle="tooltip"
                                       title="Series"></i>
                                    <a class="text-light" href="/media_sheet/Series/{{ update['media_id'] }}">
                                        {{ update['media_name'] }}
                                    </a>
                                {% elif update['category'] == 'anime' %}
                                    <div class="update-box m-b-5" style="border-bottom: solid 1px #945141;">
                                    <div style="font-size: 12pt;">
                                    <i style="color: #945141;" class="fas fa-torii-gate m-r-14" data-toggle="tooltip"
                                       title="Anime"></i>
                                    <a class="text-light" href="/media_sheet/Anime/{{ update['media_id'] }}">
                                        {{ update['media_name'] }}
                                    </a>
                                {% elif update['category'] == 'movie' %}
                                    <div class="update-box m-b-5" style="border-bottom: solid 1px #8c7821;">
                                    <div style="font-size: 12pt;">
                                    <i style="color: #8c7821;" class="fas fa-film m-r-12" data-toggle="tooltip"
                                       title="Movie"></i>
                                    <a class="text-light" href="/media_sheet/Movies/{{ update['media_id'] }}">
                                        {{ update['media_name'] }}
                                    </a>
                                {% endif %}
                            </div>
                            <div class="m-l-35" style="font-size: 11pt;">
                                {% if update['update']|length == 2 %}
                                    {{ update['update'][0] }}
                                    <i class="fas fa-long-arrow-alt-right m-l-4 m-r-4"></i>
                                    {{ update['update'][1] }}
                                {% else %}
                                    {{ update['update'][0] }}
                                {% endif %}
                            </div>
                            <span class="m-l-35" style="color: #b3b3b3; font-size: 10pt;">
                                <script>
                                    var tz = new Intl.DateTimeFormat().resolvedOptions().timeZone;
                                    var localdate = new Date("{{ update['date'] }}").toLocaleString("en-GB",
                                        {timeZone: tz});
                                    var d = new Date("{{ update['date'] }}")
                                    var month = new Array();
                                    month[0] = "Jan";
                                    month[1] = "Feb";
                                    month[2] = "Mar";
                                    month[3] = "Apr";
                                    month[4] = "May";
                                    month[5] = "Jun";
                                    month[6] = "Jul";
                                    month[7] = "Aug";
                                    month[8] = "Sep";
                                    month[9] = "Oct";
                                    month[10] = "Nov";
                                    month[11] = "Dec";
                                    var date_month = month[d.getMonth()];
                                    var date_day = localdate.slice(0, 2);
                                    var date_time = localdate.slice(11, 17)
                                    document.write(date_day + " " + date_month + " at " + date_time)
                                </script>
                                by
                            </span>
                            <a href="{{ url_for('users.account', user_name=update['username']) }}"
                               style="color: #359aff; font-size: 11pt;">{{ update['username'] }}
                            </a>
                            </div>
                            {% endfor %}
                        {% else %}
                            <div class="m-b-10" style="color: grey;"><i>No updates to display.</i></div>
                        {% endif %}
                    </li>
                </ul>
            </div>
        </div>
        {#        <div class="m-t-25 m-b-60">#}
        {#            <h4><i class="fas fa-trophy"></i>&nbsp&nbspAchievements</h4>#}
        {#            <hr>#}
        {#            <div class="row">#}
        {#                <div class="col">#}
        {#                    <h5 class="text-center m-b-20">Series</h5>#}
        {#                    <div class="m-b-20" style="background-color: #216e7d;">#}
        {#                        <div class="row no-gutters" style="padding: 0 5px 0 0;">#}
        {#                            <div class="col-3">#}
        {#                                <img height='100' width='95' style="border-radius: 50%;"#}
        {#                                 src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3
AANd9GcQ1kPZoy5MDOZbuDV_Zy1RjJ-1lXCMfUs9NPNXyN6b64lfsCGcM&usqp=CAU" alt=""/>#}
        {#                            </div>#}
        {#                            <div class="col-9 m-t-8">#}
        {#                                <div class="relative-medal">#}
        {#                                    <img height='30' width='30' src="https://image.flaticon.com/
icons/svg/179/179249.svg" alt=""/>#}
        {#                                </div>#}
        {#                                <h5><b>You're goddamn right</b></h5>#}
        {#                                You've watched 6 series with the actor Bryan Cranston#}
        {#                            </div>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                    <div class="m-b-20" style="background-color: #333333;">#}
        {#                        <div class="row no-gutters" style="padding: 0 5px 0 0;">#}
        {#                            <div class="col-3">#}
        {#                                <img height='100' width='95' style="border-radius: 50%;"#}
        {#                                 src="https://thumbs.dreamstime.com/b/little-bit-hand-gesture-line-icon
-linear-style-sign-mobile-concept-web-design-small-size-showing-hand-outline-vector-152997051.jpg" alt=""/>#}
        {#                            </div>#}
        {#                            <div class="col-9 m-t-8">#}
        {#                                <h5><b>Short is good too</b></h5>#}
        {#                                You've watched 4/8 series with less than 4 episodes.#}
        {#                            </div>#}
        {#                        </div>#}
        {#                        <div class="common-media-meter m-t-4">#}
        {#                            <span class="common-media-meter-bar" style="width: 50%;"></span>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                </div>#}
        {#                <div class="vertical_line"></div>#}
        {#                <div class="col">#}
        {#                    <h5 class="text-center m-b-20">Anime</h5>#}
        {#                    <div class="m-b-20" style="background-color: #216e7d;">#}
        {#                        <div class="row no-gutters" style="padding: 0 5px 0 0;">#}
        {#                            <div class="col-3">#}
        {#                                <img height='100' width='95' style="border-radius: 50%;"#}
        {#                                 src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQ1kPZoy5MDO
ZbuDV_Zy1RjJ-1lXCMfUs9NPNXyN6b64lfsCGcM&usqp=CAU" alt=""/>#}
        {#                            </div>#}
        {#                            <div class="col-9 m-t-8">#}
        {#                                <div class="relative-medal">#}
        {#                                    <img height='30' width='30' src="https://image.flaticon.com/icons/svg
/179/179249.svg" alt=""/>#}
        {#                                </div>#}
        {#                                <h5><b>You're goddamn right</b></h5>#}
        {#                                You've watched 6 series with the actor Bryan Cranston#}
        {#                            </div>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                    <div class="m-b-20" style="background-color: #333333;">#}
        {#                        <div class="row no-gutters" style="padding: 0 5px 0 0;">#}
        {#                            <div class="col-3">#}
        {#                                <img height='100' width='95' style="border-radius: 50%;"#}
        {#                                 src="https://thumbs.dreamstime.com/b/little-bit-hand-gesture-line-icon-li
near-style-sign-mobile-concept-web-design-small-size-showing-hand-outline-vector-152997051.jpg" alt=""/>#}
        {#                            </div>#}
        {#                            <div class="col-9 m-t-8">#}
        {#                                <h5><b>Short is good too</b></h5>#}
        {#                                You've watched 4/8 series with less than 4 episodes.#}
        {#                            </div>#}
        {#                        </div>#}
        {#                        <div class="common-media-meter m-t-4">#}
        {#                            <span class="common-media-meter-bar" style="width: 50%;"></span>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                </div>#}
        {#                <div class="vertical_line"></div>#}
        {#                <div class="col">#}
        {#                    <h5 class="text-center m-b-20">Movies</h5>#}
        {#                    <div class="m-b-20" style="background-color: #216e7d;">#}
        {#                        <div class="row no-gutters" style="padding: 0 5px 0 0;">#}
        {#                            <div class="col-3">#}
        {#                                <img height='100' width='95' style="border-radius: 50%;"#}
        {#                                 src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQ1kPZoy5MDOZ
buDV_Zy1RjJ-1lXCMfUs9NPNXyN6b64lfsCGcM&usqp=CAU" alt=""/>#}
        {#                            </div>#}
        {#                            <div class="col-9 m-t-8">#}
        {#                                <div class="relative-medal">#}
        {#                                    <img height='30' width='30' src="https://image.flaticon.com/icons/svg
/179/179249.svg" alt=""/>#}
        {#                                </div>#}
        {#                                <h5><b>You're goddamn right</b></h5>#}
        {#                                You've watched 6 series with the actor Bryan Cranston#}
        {#                            </div>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                    <div class="m-b-20" style="background-color: #333333;">#}
        {#                        <div class="row no-gutters" style="padding: 0 5px 0 0;">#}
        {#                            <div class="col-3">#}
        {#                                <img height='100' width='95' style="border-radius: 50%;"#}
        {#                                 src="https://thumbs.dreamstime.com/b/little-bit-hand-gesture-line-icon-lin
ear-style-sign-mobile-concept-web-design-small-size-showing-hand-outline-vector-152997051.jpg" alt=""/>#}
        {#                            </div>#}
        {#                            <div class="col-9 m-t-8">#}
        {#                                <h5><b>Short is good too</b></h5>#}
        {#                                You've watched 4/8 series with less than 4 episodes.#}
        {#                            </div>#}
        {#                        </div>#}
        {#                        <div class="common-media-meter m-t-4">#}
        {#                            <span class="common-media-meter-bar" style="width: 50%;"></span>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                </div>#}
        {#            </div>#}
        {#        </div>#}
    </div>
{% endblock data %}
