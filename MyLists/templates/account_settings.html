{% extends "layout.html" %}


{% block css %}
<!-------- Principal CSS --------->
<style>
.form_account {
    max-width: 800px;
    margin-top: 40px;
}

/* On screens that are 768px or more */
@media screen and (min-width: 768px) {

    .border_account {
        border-style: solid;
        border-width: 1px;
        border-color: grey;
        border-radius: 3px;
        padding-top: 30px;
        padding-bottom: 20px;
        padding-left: 50px;
        padding-right: 50px;
        margin-bottom: 20px;
    }

    .block {
	    height: 30px;
	    color: #fff;
	    float: left;
	    background-color: #334D5C;
    }

    label {
        color: white;
        height: 20px;
        width: 150px;
        margin-left: 30px;
        text-align: right;
        margin-right:15px;
        float:left;
    }

    .text-input {
        width : 250px;
        background: transparent;
        color: white;
        border-top: 0px;
        border-left: 0px;
        border-right: 0px;
        border-bottom: 1px solid white;
    }

    .text-input:focus {
        width : 250px;
        background: transparent;
        color: white;
        border-top: 0px;
        border-left: 0px;
        border-right: 0px;
        border-bottom: 1px solid white;
    }
}

/* On screens that are 768px or less */
@media screen and (max-width: 768px) {

    .border_account {
        border-style: solid;
        border-width: 1px;
        border-color: grey;
        border-radius: 3px;
        padding-top: 30px;
        padding-bottom: 20px;
        padding-left: 20px;
        padding-right: 20px;
        margin-bottom: 20px;
    }

    .block {
	    height: 25px;
	    color: #fff;
	    float: left;
	    background-color: #334D5C;
    }

    label {
        color: white;
        height: 20px;
        margin-right:15px;
        width: 130px;
    }

    .text-input {
        width : 150px;
        background: transparent;
        color: white;
        border-top: 0px;
        border-left: 0px;
        border-right: 0px;
        border-bottom: 1px solid white;
    }

    .text-input:focus {
        width : 150px;
        background: transparent;
        color: white;
        border-top: 0px;
        border-left: 0px;
        border-right: 0px;
        border-bottom: 1px solid white;
    }

    .custom-btn-size {
        padding: 6px !important;
    }
}
</style>
{% endblock css %}


{% block content %}
<div class="container form_account" style="padding-left: 0px; padding-right: 0px;">
    <div class="border_account">
        <h3 class="m-b-30">Account Settings</h3>

        <form method="POST" action="" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <div class="container-form">

                <!-- Username -->
                <div class="form-group">
                    {{ form.username.label(class="form-control-label") }}
                    {% if form.username.errors %}
                        {{ form.username(class="form-control is-invalid text-input") }}
                        <div class="invalid-feedback">
                            {% for error in form.username.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.username(class="text-input") }}
                    {% endif %}
                </div>

                <!-- Email -->
                <div class="form-group">
                    {{ form.email.label(class="form-control-label") }}
                    {% if form.email.errors %}
                        {{ form.email(class="form-control form-control is-invalid text-input") }}
                        <div class="invalid-feedback">
                            {% for error in form.email.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.email(class="text-input") }}
                    {% endif %}
                </div>

                <!-- Default homepage -->
                <div class="form-group">
                    {{ form.homepage.label(class="form-control-label") }}
                    {% if form.homepage.errors %}
                        {{ form.homepage(class="form-control is-invalid text-input") }}
                        <div class="invalid-feedback">
                            {% for error in form.homepage.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.homepage }}
                    {% endif %}
                </div>

                <!-- Private -->
                <div class="form-group">
                    {{ form.isprivate.label(class="form-control-label") }}
                    {% if form.isprivate.errors %}
                        {{ form.isprivate(class="form-control is-invalid text-input") }}
                        <div class="invalid-feedback">
                            {% for error in form.isprivate.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.isprivate }}
                    {% endif %}
                </div>

                <!-- Profile picture  -->
                <div class="form-group upload-btn-wrapper">
                    {{ form.picture.label(class="form-control-label") }}
                    {{ form.picture }}
                    {% if form.picture.errors %}
                        {% for error in form.picture.errors %}
                            <span class="text-danger">{{ error }}</span><br>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>

            <div class="text-center m-t-30">
                {{ form.submit(class="btn btn-outline-info custom-btn-size") }}
                <a class="btn btn-outline-info custom-btn-size" href="{{ url_for('change_password') }}" role="button">Change password?</a>
            </div>
        </form>

        <!------------------------ Account picture/Username/Privacy -------------------------->
        <!--<div class="d-flex flex-wrap-reverse">
            <div class="p-r-10 bd-highlight">
                <img class="rounded border-light account-img" src="{{ image_file }}">
            </div>
            <div class="bd-highlight">
                <h2 class="mt-0 account-heading">{{ current_user.username }}</h2>
                <span style="font-size: 14pt;">{{ current_user.email }}</span>
            </div>
            <div class="ml-auto bd-highlight text-center">
                {% if value_privacy == "checked" %}
                <a id="private_id" class="fas fa-2x fa-toggle-on" onclick="private_mode()"></a>
                <br>
                <span id="text_privacy">Private Mode On</span>
                {% else %}
                <a id="private_id" class="fas fa-2x fa-toggle-off" onclick="private_mode()"></a>
                <br>
                <span id="text_privacy">Private Mode Off</span>
                {% endif %}
            </div>
        </div>

        &lt;!&ndash;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; Account info/default page -&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&ndash;&gt;
        <h3 class="font-weight-light text-center mt-4 mb-0">
            Account Info
            <div class="arrow_div float-right">
                <a class="fas fa-xs fa-chevron-down" id="INFO_arrow" onclick="hide('INFO', 'INFO_arrow')"></a>
            </div>
        </h3>
        <hr class="mt-2 mb-3">
        <div id="INFO" class="d-flex flex-wrap">
            <div class="col text-center">
                <span>Default home page:</span>
                <select id="home_page" class="ml-auto mr-auto m-t-10 m-b-20 scrollable-menu form-control text-center" style="max-width: 150px;">
                {% if home_page == "account" %}
                    <option selected="selected">Account</option>
                    <option>Hall of Fame</option>
                    <option>MySeriesList</option>
                    <option>MyAnimesList</option>
                    <option>MyBooksList</option>
                {% elif home_page == "hall_of_fame" %}
                    <option>Account</option>
                    <option selected="selected">Hall of Fame</option>
                    <option>MySeriesList</option>
                    <option>MyAnimesList</option>
                    <option>MyBooksList</option>
                {% elif home_page == "myserieslist" %}
                    <option>Account</option>
                    <option>Hall of Fame</option>
                    <option selected="selected">MySeriesList</option>
                    <option>MyAnimesList</option>
                    <option>MyBooksList</option>
                {% elif home_page == "myanimeslist" %}
                    <option>Account</option>
                    <option>Hall of Fame</option>
                    <option>MySeriesList</option>
                    <option selected="selected">MyAnimesList</option>
                    <option>MyBooksList</option>
                {% elif home_page == "mybookslist" %}
                    <option>Account</option>
                    <option>Hall of Fame</option>
                    <option>MySeriesList</option>
                    <option>MyAnimesList</option>
                    <option selected="selected">MyBooksList</option>
                {% endif %}
            </select>
            </div>
            <div class="d-flex flex-wrap">
                <form method="POST" action="" enctype="multipart/form-data">
                    {{ form.hidden_tag() }}
                    <div class="container-form">
                        <div class="form-group">
                            {{ form.username.label(class="form-control-label") }}
                            {% if form.username.errors %}
                                {{ form.username(class="form-control form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.username.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.username(class="form-control form-control") }}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.email.label(class="form-control-label") }}
                            {% if form.email.errors %}
                                {{ form.email(class="form-control form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.email.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.email(class="form-control form-control") }}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.picture.label() }}
                            {{ form.picture(class="form-control-file") }}
                            {% if form.picture.errors %}
                                {% for error in form.picture.errors %}
                                    <span class="text-danger">{{ error }}</span><br>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                    <div class="text-center">
                        {{ form.submit(class="btn btn-outline-info") }}
                        <a class="btn btn-outline-info" href="{{ url_for('change_password') }}" role="button">Change password?</a>
                    </div>
                </form>
            </div>
        </div>-->
    </div>
</div>
{% endblock content %}


{% block script %}
<!-------- Principal JS --------->
<script>
/*
let home_page = document.getElementById("home_page");


home_page.onchange = function () {
    let selected_index = home_page.selectedIndex;
    $body = $("body");
    $.ajax ({
        type: "POST",
        url: "/default_page",
        contentType: "application/json",
        data: JSON.stringify({home_page: selected_index }),
        dataType: "json",
        beforeSend: function() { $body.addClass("loading"); },
        success: function(response) {
            $body.removeClass("loading"); }
    });
}


function private_mode() {
    var private = document.getElementById("private_id");

    if (private.className === "fas fa-2x fa-toggle-on") {
        private.className = "fas fa-2x fa-toggle-off";
        $('#text_privacy').text('Private Mode Off');
        $.ajax ({
            type: "POST",
            url: "/private_mode",
            contentType: "application/json",
            data: JSON.stringify({private: "off"}),
            dataType: "json",
            success: function(response) {
                console.log("off"); }
        });
    } else {
        private.className = "fas fa-2x fa-toggle-on";
        $('#text_privacy').text('Private Mode On');
        $.ajax ({
            type: "POST",
            url: "/private_mode",
            contentType: "application/json",
            data: JSON.stringify({private: "on"}),
            dataType: "json",
            success: function(response) {
                console.log("on"); }
        });
    }
}
*/
</script>
{% endblock script %}