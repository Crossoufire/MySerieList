{% extends "layout.html" %}


{% block css %}
    <link href="{{ url_for('static', filename='css/datatables.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/hall_of_fame.css') }}" rel="stylesheet">
{% endblock css %}


{% block content %}
    <h3 class="mb-0 m-t-50"><b>FOLLOWED HALL OF FAME</b></h3>
    <hr class="mt-2 mb-0">
    <div class="m-t-30 hof ml-auto mr-auto m-b-60">
        <table id="hall_of_fame" class="table table-responsive-sm text-light">
            <thead>
            <tr>
                <th class="text-center"></th>
                <th class="text-center">Username</th>
                <th class="text-center">Series</th>
                <th class="text-center">Anime</th>
                <th class="text-center">Movies</th>
<<<<<<< HEAD
=======
                <th class="text-center"></th>
>>>>>>> parent of 21634e6 (testing games)
            </tr>
            </thead>
            <tbody>
                {% for user in all_data %}
                    <tr class="{% if user['current_user'] %} current_user {% endif %}">
                        <td style="min-width: 180px; max-width: 180px;">
                            <div style="position: relative;">
                                <img class="profile-picture" src="/static/profile_pics/{{ user['profile_picture'] }}"
                                     alt="">
                                <img class="frame-picture" src="{{ user['knowledge_frame']['frame_id'] }}.png" alt="">
                                <div class="frame-level">{{ user['knowledge_frame']['level'] }}</div>
                            </div>
<<<<<<< HEAD
                        </td>
                        <td>
                            <a href="{{ url_for('users.account', user_name=user['username']) }}">
                                <b>{{ user['username'] }}</b>
                            </a>
                        </td>
                        <td>
                            <a class="text-light" href="{{ url_for('main.mymedialist', media_list='serieslist',
                            user_name=user['username']) }}">
                                <img class="grade_picture" src="{{ user['series_data']['grade_id'] }}.png" alt="">
                                <br>
                                {{ user['series_data']['level'] }}
                            </a>
                        </td>
                        <td>
                            <a class="text-light" href="{{ url_for('main.mymedialist', media_list='animelist',
                            user_name=user['username']) }}">
                                <img class="grade_picture" src="{{ user['anime_data']['grade_id'] }}.png" alt="">
                                <br>
                                {{ user['anime_data']['level'] }}
                            </a>
                        </td>
                        <td>
                            <a class="text-light" href="{{ url_for('main.mymedialist', media_list='movieslist',
                            user_name=user['username']) }}">
                                <img class="grade_picture" src="{{ user['movies_data']['grade_id'] }}.png" alt="">
                                <br>
                                {{ user['movies_data']['level'] }}
                            </a>
                        </td>
                    </tr>
                {% endfor %}
=======
                        {% endif %}
                    </td>
                    <td>
                        {% if user['isprivate'] and not user["isfollowing"] and current_user.id != 1 %}
                            <b><a class="disabled">Anonymous</a></b>
                        {% else %}
                            <b><a href="/account/{{ user['username'] }}">{{ user['username'] }}</a></b>
                        {% endif %}
                    </td>
                    <td>
                        <a class="text-light {% if user['isprivate'] and not user['isfollowing']
                            and current_user.id != 1 %} disabled {% endif %}" href="/serieslist/{{ user['username'] }}">
                            <img class="grade_picture" src="{{ user['series_data']['grade_id'] }}.png" alt="">
                            <br>
                            {{ user['series_data']['level'] }}
                        </a>
                    </td>
                    <td>
                        <a class="text-light {% if user['isprivate'] and not user['isfollowing']
                            and current_user.id != 1 %} disabled {% endif %}" href="/animelist/{{ user['username'] }}">
                            <img class="grade_picture" src="{{ user['anime_data']['grade_id'] }}.png" alt="">
                            <br>
                            {{ user['anime_data']['level'] }}
                        </a>
                    </td>
                    <td>
                        <a class="text-light {% if user['isprivate'] and not user['isfollowing']
                            and current_user.id != 1 %} disabled {% endif %}" href="/movieslist/{{ user['username'] }}">
                            <img class="grade_picture" src="{{ user['movies_data']['grade_id'] }}.png" alt="">
                            <br>
                            {{ user['movies_data']['level'] }}
                        </a>
                    </td>
                    <td>
                        {% if user['isprivate'] and not user['isfollowing'] and current_user.id != 1 %}
                        {% else %}
                            {% if user["isfollowing"] and not user['iscurrentuser'] %}
                                <button class="btn btn-sm btn-dark btn-smaller" value="1"
                                        onclick="follow_status('{{ user['id'] }}', this, {{ loop.index }})">Unfollow
                                </button>
                            {% elif not user["isfollowing"] and not user['iscurrentuser'] %}
                                <button class="btn btn-sm btn-primary" value="0"
                                        onclick="follow_status('{{ user['id'] }}', this,{{ loop.index }})">Follow
                                </button>
                            {% endif %}
                            <img id='loading-follow-{{ loop.index }}' style="display: none;" height="20" width="20"
                                 src="/static/img/loading.webp" alt=""/>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
>>>>>>> parent of 21634e6 (testing games)
            </tbody>
        </table>
    </div>
{% endblock content %}


{% block script %}
    <script type="text/javascript" src="{{ url_for('static', filename='js/datatables.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/hall_of_fame.js') }}"></script>
{% endblock script %}

